<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>generators</title>
  </head>
  <body>

    <script type="text/javascript">

      // factorial
      function* fact(n) {
        product = n;
        yield n;
        while(n > 1) {
          n = yield n - 1;
          product *= n;
        }
        return product;
      }

      const gen = fact(5);

      let result = gen.next();

      while (!result.done) {
        console.log('fact: ', result.value)
        result = gen.next(result.value)
      }
      console.log('fact done: ', result.value);

      // fibonacci
      function* fib() {
        let fn1 = 0;
        let fn2 = 1;

        while (true) {
          let current = fn1 + fn2;
          fn1 = fn2;
          fn2 = current;
          yield current;
        }
      }

      const fibGen = fib();

      console.log(fibGen.next());
      console.log(fibGen.next());
      console.log(fibGen.next());
      console.log(fibGen.next());
      console.log(fibGen.next());
      console.log(fibGen.next());
    </script>
  </body>
</html>
